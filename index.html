<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/tabletop1.3.4.js"></script>
    <script type="text/javascript" src="js/sheetsee.js"></script>
    <link   type='text/css' rel='stylesheet' href='http://api.tiles.mapbox.com/mapbox.js/v1.0.0/mapbox.css'>
    <!-- Add a Title -->
    <title>Kampala Wifi Hotspots</title>
  </head>
  <style>
    html {width: 100%; height: 100%;}
    body {width: 100%; height: 100%; margin: 0;}
    /* How about a different background color? */
    #map {width: 100%; height: 100%; background-color: #F7CE86;}
    .leaflet-popup-content li {list-style:none;}
    .leaflet-popup-content {width: 150px;}
    .leaflet-popup-content img {width: 140px;}
    a {border: none;}
  </style>
  <body>
    <div id="map"></div>

    <script type="text/javascript">
    var map;
      document.addEventListener('DOMContentLoaded', function() {
        // see how what the example spreadsheet looks like:
        // https://docs.google.com/spreadsheet/lv?key=0Ao5u1U6KYND7dGN5QngweVJUWE16bTRob0d2a3dCbnc
        var URL = "https://docs.google.com/spreadsheets/d/1sQaj4pt6Bn5Y6MoNin4NDs0WfJ200Fn4EFuccd0_Wvo/pubhtml"
        Tabletop.init( { key: URL, callback: showInfo, simpleSheet: true } )
      })

      function showInfo(data) {
        // the column headers of the info you want in your popup
        var optionsJSON = ["placename", "outdoorseating", "powersocket", "couch", "brew"]
        // an html template for your popup
        var template = "<ul><li><h4>{{placename}}</h4></li>"
                 + "<li><b>Outdoor Seating:</b> {{outdoorseating}}</li>"
                 + "<li><b>Power Socket:</b> {{powersocket}}</li>"
                 + "<li><b>Couch:</b> {{couch}}</li>"
                 + "<li><b>Brew:</b> {{brew}}</li></ul>"
        var geoJSON = Sheetsee.createGeoJSON(data, optionsJSON)
        map = Sheetsee.loadMap("map")
        Sheetsee.addTileLayer(map, 'raybesiga.lbooidnh')
        Sheetsee.addMarkerLayer(geoJSON, map, template, 13)
      }
    </script>
  </body>
</html>
